# Global: Kein automatischer HTTP→HTTPS-Redirect (sonst leitet Caddy auf https:// um).
{
	auto_https disable_redirects
}

# Szenario B: eine Origin. /api → Backend, / → Frontend. /health und /ready für CI/Health-Check.
# Nur HTTP auf Port 80 (Container); Host egal.
http://:80 {
	handle /health {
		reverse_proxy app:8080
	}
	handle /ready {
		reverse_proxy app:8080
	}
	handle /api/* {
		reverse_proxy app:8080
	}
	handle {
		reverse_proxy frontend:5173
	}
}
